{
  "hash": "2247fdd48d1974161d8df3bda3e39819",
  "result": {
    "engine": "knitr",
    "markdown": "# Item Fit Analysis\n\n## Apa Itu Item Fit?\n\n**Item Fit** mengukur seberapa baik data empiris sesuai dengan prediksi model IRT. Item yang *misfit* berarti pola responnya tidak konsisten dengan model yang diasumsikan.\n\n## Statistik Item Fit\n\n### Infit dan Outfit (Rasch)\n\n\n::: {.cell}\n\n```{.r .cell-code}\nlibrary(TAM)\nlibrary(ggplot2)\n\nset.seed(42)\nn_peserta <- 300; n_item <- 20\nb_true     <- seq(-2, 2, length.out = n_item)\ntheta_true <- rnorm(n_peserta)\n\nprob_m  <- outer(theta_true, b_true, function(t, b) 1/(1+exp(-(t-b))))\ndata_r  <- matrix(rbinom(n_peserta*n_item, 1, prob_m),\n                  nrow=n_peserta,\n                  dimnames=list(NULL, paste0(\"I\",1:n_item)))\n\n# Tambahkan 2 item misfit\ndata_r[,1]  <- sample(0:1, n_peserta, replace=TRUE)   # random (noisy)\ndata_r[,20] <- ifelse(theta_true > 0.5, 0, 1)         # terbalik\n\n# Estimasi dengan mirt (Rasch) — hindari tam.fit() karena bug internal !continue\nlibrary(mirt)\nmodel_r <- mirt(data_r, 1, itemtype = \"Rasch\", verbose = FALSE)\nfit_r   <- itemfit(model_r, fit_stats = \"S_X2\")\n\n# Clamp p-value: hindari -log10(0) = Inf\np_raw10 <- pmax(pmin(fit_r$p.S_X2, 1), 1e-6)\n\nfit_df <- data.frame(\n  Item     = paste0(\"I\", 1:n_item),\n  S_X2     = round(fit_r$S_X2, 3),\n  p_val    = round(p_raw10, 6),\n  neglog_p = -log10(p_raw10),\n  Status   = ifelse(p_raw10 < 0.05, \"Misfit \\u26a0\\ufe0f\", \"Fit \\u2713\")\n)\n\nbatas10 <- -log10(0.05)\n\nggplot(fit_df, aes(x = reorder(Item, neglog_p), y = neglog_p, fill = Status)) +\n  geom_col(width = 0.65) +\n  geom_hline(yintercept = batas10,\n             linetype = \"dashed\", color = \"#c0392b\", linewidth = 0.9) +\n  coord_flip() +\n  scale_fill_manual(values = c(\"Fit \\u2713\" = \"#27ae60\",\n                                \"Misfit \\u26a0\\ufe0f\" = \"#e74c3c\")) +\n  labs(title = \"Item Fit S-X\\u00b2 \\u2014 Rasch (1PL)\",\n       subtitle = \"Garis merah = p < .05 | I01 & I20 sengaja dibuat misfit\",\n       x = NULL, y = \"-log\\u2081\\u2080(p-value)\", fill = \"\") +\n  theme_minimal(base_size = 12)\n```\n\n::: {.cell-output-display}\n![Item Fit Plot — Rasch Model (TAM)](bab10-item-fit_files/figure-html/rasch-fit-demo-1.png){width=672}\n:::\n:::\n\n\n### S-X² (Signed Chi-Square) — Model mirt\n\n\n::: {.cell tbl-cap='Item Fit Statistics — Model 2PL (mirt)'}\n\n```{.r .cell-code}\nlibrary(mirt)\nlibrary(knitr)\n\nset.seed(2025)\na_t <- runif(15, 0.7, 1.8); b_t <- rnorm(15); theta_t <- rnorm(400)\npm  <- sapply(1:15, function(i) 1/(1+exp(-a_t[i]*(theta_t-b_t[i]))))\ndata_m <- matrix(rbinom(400*15,1,pm), nrow=400,\n                 dimnames=list(NULL, paste0(\"Item\",1:15)))\n\nm2pl  <- mirt(data_m, 1, \"2PL\", verbose=FALSE)\nfit_s <- itemfit(m2pl, fit_stats=\"S_X2\")\n\nfit_tbl <- data.frame(\n  Item     = paste0(\"Item\", 1:15),\n  S_X2     = round(fit_s$S_X2, 3),\n  df       = fit_s$df.S_X2,\n  p_value  = round(fit_s$p.S_X2, 4),\n  Status   = ifelse(fit_s$p.S_X2 < 0.05, \"Misfit (p<.05)\", \"Fit\")\n)\n\nkable(fit_tbl, align=\"c\")\n```\n\n::: {.cell-output-display}\n\n\n|  Item  |  S_X2  | df | p_value |     Status     |\n|:------:|:------:|:--:|:-------:|:--------------:|\n| Item1  | 11.741 | 8  | 0.1631  |      Fit       |\n| Item2  | 3.050  | 9  | 0.9623  |      Fit       |\n| Item3  | 6.824  | 9  | 0.6555  |      Fit       |\n| Item4  | 10.724 | 9  | 0.2951  |      Fit       |\n| Item5  | 19.460 | 9  | 0.0216  | Misfit (p<.05) |\n| Item6  | 5.905  | 9  | 0.7494  |      Fit       |\n| Item7  | 14.334 | 8  | 0.0735  |      Fit       |\n| Item8  | 8.110  | 11 | 0.7034  |      Fit       |\n| Item9  | 2.671  | 10 | 0.9881  |      Fit       |\n| Item10 | 6.154  | 9  | 0.7244  |      Fit       |\n| Item11 | 9.759  | 9  | 0.3704  |      Fit       |\n| Item12 | 7.958  | 9  | 0.5384  |      Fit       |\n| Item13 | 2.141  | 7  | 0.9516  |      Fit       |\n| Item14 | 9.944  | 11 | 0.5354  |      Fit       |\n| Item15 | 8.176  | 9  | 0.5165  |      Fit       |\n\n\n:::\n:::\n\n\n## Interpretasi Item Misfit\n\n::: {.callout-important title=\"Panduan Interpretasi\"}\n| Kondisi | Nilai Infit/Outfit | Implikasi |\n|---------|-------------------|-----------|\n| **Underfit** | > 1.3 | Item tidak konsisten — peserta dengan θ sama punya respon bervariasi |\n| **Fit** | 0.70 – 1.30 | Item bekerja sesuai model ✓ |\n| **Overfit** | < 0.70 | Item terlalu deterministik — mungkin redundan |\n:::\n\n\n::: {.cell}\n\n```{.r .cell-code}\n# Periksa pola residual item misfit (Q3 statistic)\nresiduals_m <- tryCatch(residuals(m2pl, type=\"Q3\"), error=function(e) NULL)\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\nQ3 summary statistics:\n   Min. 1st Qu.  Median    Mean 3rd Qu.    Max. \n -0.167  -0.092  -0.054  -0.057  -0.024   0.066 \n\n        Item1  Item2  Item3  Item4  Item5  Item6  Item7  Item8  Item9 Item10\nItem1   1.000 -0.042 -0.026 -0.088 -0.119 -0.087 -0.082 -0.005 -0.092 -0.111\nItem2  -0.042  1.000 -0.100 -0.095 -0.106 -0.011 -0.105 -0.077 -0.061 -0.025\nItem3  -0.026 -0.100  1.000 -0.063 -0.050 -0.151 -0.036 -0.045 -0.089 -0.045\nItem4  -0.088 -0.095 -0.063  1.000 -0.099  0.013 -0.051 -0.049 -0.074 -0.073\nItem5  -0.119 -0.106 -0.050 -0.099  1.000 -0.096 -0.049 -0.134  0.020 -0.048\nItem6  -0.087 -0.011 -0.151  0.013 -0.096  1.000 -0.068  0.066 -0.031 -0.057\nItem7  -0.082 -0.105 -0.036 -0.051 -0.049 -0.068  1.000 -0.122 -0.089 -0.004\nItem8  -0.005 -0.077 -0.045 -0.049 -0.134  0.066 -0.122  1.000 -0.028 -0.107\nItem9  -0.092 -0.061 -0.089 -0.074  0.020 -0.031 -0.089 -0.028  1.000 -0.077\nItem10 -0.111 -0.025 -0.045 -0.073 -0.048 -0.057 -0.004 -0.107 -0.077  1.000\nItem11 -0.067  0.005 -0.030  0.020 -0.106 -0.052 -0.125 -0.039 -0.127 -0.155\nItem12 -0.051 -0.167  0.005 -0.079  0.011 -0.021 -0.098 -0.039 -0.034 -0.125\nItem13  0.035 -0.145 -0.037 -0.039 -0.140 -0.085 -0.088 -0.011 -0.054 -0.099\nItem14  0.003 -0.009 -0.067 -0.079 -0.001 -0.007 -0.054 -0.010 -0.036  0.015\nItem15 -0.056 -0.008 -0.072 -0.145 -0.066 -0.052 -0.126  0.040  0.050 -0.067\n       Item11 Item12 Item13 Item14 Item15\nItem1  -0.067 -0.051  0.035  0.003 -0.056\nItem2   0.005 -0.167 -0.145 -0.009 -0.008\nItem3  -0.030  0.005 -0.037 -0.067 -0.072\nItem4   0.020 -0.079 -0.039 -0.079 -0.145\nItem5  -0.106  0.011 -0.140 -0.001 -0.066\nItem6  -0.052 -0.021 -0.085 -0.007 -0.052\nItem7  -0.125 -0.098 -0.088 -0.054 -0.126\nItem8  -0.039 -0.039 -0.011 -0.010  0.040\nItem9  -0.127 -0.034 -0.054 -0.036  0.050\nItem10 -0.155 -0.125 -0.099  0.015 -0.067\nItem11  1.000 -0.116 -0.032 -0.021 -0.024\nItem12 -0.116  1.000  0.018  0.009 -0.086\nItem13 -0.032  0.018  1.000 -0.087 -0.121\nItem14 -0.021  0.009 -0.087  1.000  0.008\nItem15 -0.024 -0.086 -0.121  0.008  1.000\n```\n\n\n:::\n\n```{.r .cell-code}\nif (!is.null(residuals_m) && is.matrix(residuals_m)) {\n  n_show <- min(10, nrow(residuals_m))\n  sub_m  <- residuals_m[1:n_show, 1:n_show]\n\n  # Visualisasi dengan tidyr (tidak perlu corrplot atau reshape2)\n  library(tidyr)\n  df_q3 <- as.data.frame(sub_m)\n  df_q3$Item1 <- rownames(df_q3)\n  df_q3 <- pivot_longer(df_q3, -Item1, names_to=\"Item2\", values_to=\"Q3\")\n  df_q3 <- df_q3[df_q3$Item1 != df_q3$Item2, ]  # hapus diagonal\n\n  print(\n    ggplot(df_q3, aes(x=Item2, y=Item1, fill=Q3)) +\n      geom_tile(color=\"white\") +\n      geom_text(aes(label=round(Q3,2)), size=3) +\n      scale_fill_gradient2(low=\"#3498db\", mid=\"white\", high=\"#e74c3c\",\n                           midpoint=0, limits=c(-0.5, 0.5)) +\n      labs(title=\"Matriks Q3: Lokal Dependensi Item\",\n           subtitle=\"|Q3| > 0.2 = kemungkinan lokal dependensi\",\n           x=NULL, y=NULL, fill=\"Q3\") +\n      theme_minimal(base_size=11) +\n      theme(axis.text.x=element_text(angle=45, hjust=1))\n  )\n\n  # Statistik ringkasan\n  off_diag <- residuals_m[upper.tri(residuals_m)]\n  cat(\"Rangkuman Q3 Statistics:\\n\")\n  cat(\"Nilai Q3 > 0.2 mengindikasikan lokal dependensi\\n\")\n  cat(\"Q3 max (off-diagonal):\", round(max(abs(off_diag)), 3), \"\\n\")\n  cat(\"Pasangan dengan |Q3| > 0.2:\", sum(abs(off_diag) > 0.2), \"\\n\")\n} else {\n  cat(\"Q3 residuals tidak tersedia untuk model ini.\\n\")\n}\n```\n\n::: {.cell-output .cell-output-stdout}\n\n```\nRangkuman Q3 Statistics:\nNilai Q3 > 0.2 mengindikasikan lokal dependensi\nQ3 max (off-diagonal): 0.167 \nPasangan dengan |Q3| > 0.2: 0 \n```\n\n\n:::\n\n::: {.cell-output-display}\n![Diagnosa Item Misfit: Residual Plot](bab10-item-fit_files/figure-html/fig-misfit-diagnosa-1.png){#fig-misfit-diagnosa width=672}\n:::\n:::\n\n\n## Langkah Setelah Item Misfit\n\n\n::: {.cell}\n::: {.cell-output-display}\n\n\nTable: Panduan Tindakan untuk Item Misfit\n\n|Penyebab                 |Gejala                      |Tindakan                |\n|:------------------------|:---------------------------|:-----------------------|\n|Ambiguitas item          |Outfit tinggi, Infit normal |Revisi redaksi item     |\n|Multidimensional         |Item cluster berbeda        |Pisahkan dimensi / MIRT |\n|Lokal dependensi         |Q3 > 0.2 antar item         |Hapus salah satu item   |\n|Item terlalu mudah/sulit |p < 0.1 atau p > 0.9        |Review konten item      |\n|Kesalahan skoring        |Outfit sangat tinggi        |Periksa answer key      |\n\n\n:::\n:::\n\n\n",
    "supporting": [],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {},
    "engineDependencies": {},
    "preserve": {},
    "postProcess": true
  }
}